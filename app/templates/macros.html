{% import 'bootstrap/wtf.html' as wtf %}

{% macro render_todo(todo, delete_form, update_form) %}
    <li class="list-group-item">
        <div>
            {{ todo.to_dict().description }}
            {% if todo.to_dict().done %}
                <span class="badge list-group-item-success">{{ ' Saved ' }}</span>
            {% else %}
                <span class="badge list-group-item-danger">{{ ' Not saved ' }}</span>
            {% endif %}
        </div>

        {{ wtf.quick_form(delete_form, action=url_for('delete', todo_id=todo.id)) }}
        {{ wtf.quick_form(update_form, action=url_for('update', todo_id=todo.id, done=todo.to_dict().done)) }}
    </li>
{% endmacro %}